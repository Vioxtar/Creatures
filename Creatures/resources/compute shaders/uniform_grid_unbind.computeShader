#version 460 core

layout (std430, binding = 0) buffer UniformGrid
{
	uint ugrid[];
};

layout (std430, binding = 1) buffer CreatureTiles
{
	uint tiles[];
};


layout (local_size_x = 1024, local_size_y = 1, local_size_z = 1) in;

uniform uint uGridTileBufferSize;

void main()
{
	uint gid = gl_GlobalInvocationID.x;

	uint tileIndex = tiles[gid];
	tiles[gid] = -1;

	uint tileCreaturesCountIndex = tileIndex * uGridTileBufferSize;
	ugrid[tileCreaturesCountIndex] = 0;
}